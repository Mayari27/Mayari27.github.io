# install.packages("quarto")
install.packages("quarto")
Para previsualizar:
# Para previsualizar:
quarto::quarto_preview()
# Ejecuta esto en consola para ver tu estructura:
list.files(all.files = TRUE, recursive = TRUE)
# En consola R (NO terminal):
quarto_render()
list.files(all.files = TRUE, recursive = TRUE)
# Borra archivos HTML sueltos en la ra칤z (NO en docs/)
unlink(c("index.html", "2.html", "about.html"), recursive = TRUE)
# Borra carpetas de archivos temporales
unlink(c("index_files", "2_files", "about_files"), recursive = TRUE)
# Borra docs/ para empezar fresco
unlink("docs", recursive = TRUE)
# Mueve los archivos de configuraci칩n desde "Pagina Perzonalizacion/" a la ra칤z
file.rename("Pagina Perzonalizacion/_quarto.yml", "_quarto.yml")
file.rename("Pagina Perzonalizacion/index.qmd", "index.qmd")
file.rename("Pagina Perzonalizacion/styles.css", "styles.css")
# Borra la carpeta vac칤a
unlink("Pagina Perzonalizacion", recursive = TRUE)
# Renombra proyectos para evitar espacios
file.rename("_projects/Proyecto 1.qmd", "_projects/proyecto-1.qmd")
file.rename("_projects/Proyecto 2.qmd", "_projects/proyecto-2.qmd")
# Actualiza links en _projects/index.qmd
writeLines('---
title: "Todos los Proyectos"
---
# Mis Proyectos
## 游늵 An치lisis de Datos Sociales
1. [Proyecto 1: An치lisis Exploratorio](proyecto-1.qmd)
2. [Proyecto 2: Visualizaci칩n Avanzada](proyecto-2.qmd)
---
*M치s proyectos en desarrollo...*', "_projects/index.qmd")
# Actualiza links en _projects/index.qmd
writeLines('---
title: "Todos los Proyectos"
---
# Mis Proyectos
## 游늵 An치lisis de Datos Sociales
1. [Proyecto 1: An치lisis Exploratorio](proyecto-1.qmd)
2. [Proyecto 2: Visualizaci칩n Avanzada](proyecto-2.qmd)
---
*M치s proyectos en desarrollo...*', "_projects/index.qmd")
# Renderiza el sitio completo
quarto::quarto_render()
# Verifica que se cre칩 docs/
list.files("docs", recursive = TRUE)
system('git add .')
# Commit
system('git commit -m "Reorganizaci칩n completa del sitio web"')
# Push
system("git push origin main")
# Script para arreglar TODO
message("=== LIMPIANDO ===")
unlink(c("index.html", "2.html", "about.html",
"index_files", "2_files", "about_files",
"docs"), recursive = TRUE)
message("=== MOVIENDO ARCHIVOS ===")
if(file.exists("Pagina Perzonalizacion/_quarto.yml")) {
file.rename("Pagina Perzonalizacion/_quarto.yml", "_quarto.yml")
file.rename("Pagina Perzonalizacion/index.qmd", "index.qmd")
file.rename("Pagina Perzonalizacion/styles.css", "styles.css")
unlink("Pagina Perzonalizacion", recursive = TRUE)
}
message("=== ORGANIZANDO PROYECTOS ===")
if(file.exists("_projects/Proyecto 1.qmd")) {
file.rename("_projects/Proyecto 1.qmd", "_projects/proyecto-1.qmd")
}
if(file.exists("_projects/Proyecto 2.qmd")) {
file.rename("_projects/Proyecto 2.qmd", "_projects/proyecto-2.qmd")
}
message("=== RENDERIZANDO ===")
quarto::quarto_render()
message("=== VERIFICANDO ===")
cat("Estructura docs/:\n")
print(list.files("docs", recursive = TRUE))
message("\n=== 춰LISTO! ===")
message("1. Ve a: docs/index.html (localmente)")
message("2. Sube cambios: git add . && git commit -m 'fix' && git push")
message("3. GitHub Pages: https://mayari27.github.io/tu-repo")
source("fix_site.R")
source("fix_site.R")
q()
#Educacion
educacion1 <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69")
#Educacion
educacion1 <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69")
# Verificar e instalar paquetes si es necesario
if (!require("tidyverse")) install.packages("tidyverse")
if (!require("readxl")) install.packages("readxl")
if (!require("survey")) install.packages("survey")
if (!require("ggplot2")) install.packages("ggplot2")
library(tidyverse)
library(readxl)
library(dplyr)
library(survey)
library(ggplot2)
#Educacion
educacion1 <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69")
#-----------An치lisis I: Disparidad de Ingresos segun el Analfabetismo--------
df_educacion <- educacion1 %>%
rename(
Periodo=1,
Indicadores=2
)
columnas_quintiles <- c("Quintil 1", "Quintil 2", "Quintil 3", "Quintil 4", "Quintil 5")
# 1. Filtrar solo el indicador "A침os promedio de escolaridad"
df_escolaridad_quintil <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad") %>%
select(Periodo, all_of(columnas_quintiles))
# 2. Reestructurar el dataframe al formato largo (Tidyr/Pivot_longer)
library(tidyr)
df_quintil_largo <- df_escolaridad_quintil %>%
pivot_longer(
cols = all_of(columnas_quintiles),
names_to = "Quintil",
values_to = "A침os_Escolaridad"
)
df_quintil_largo
# 3. Convertir el Periodo a factor para la visualizaci칩n
df_quintil_largo$Periodo <- as.factor(df_quintil_largo$Periodo)
head(df_quintil_largo)
#Visualizaci칩n de L칤neas M칰ltiples (Tendencia por Quintil)
ggplot(df_quintil_largo, aes(x = Periodo, y = A침os_Escolaridad, group = Quintil, color = Quintil)) +
geom_line(linewidth = 1) +
geom_point(size = 3) +
labs(title = "A침os Promedio de Escolaridad por Quintil de Ingreso",
subtitle = "Evoluci칩n de la escolaridad seg칰n el Nivel Socioecon칩mico (2018-2024)",
y = "A침os Promedio de Escolaridad",
x = "A침o") +
theme_minimal() +
scale_color_brewer(palette = "RdYlBu") # Paleta de colores para diferenciar las 5 l칤neas
#Educacion
educacion1 <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69")
#-----------An치lisis I: Disparidad de Genero en Analfabetismo--------
df_educacion <- educacion1 %>%
rename(
Periodo=1,
Indicadores=2
)
# Filtrar solo "A침os promedio de escolaridad"
df_escolaridad <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad") %>%
select(Periodo, Hombre, Mujer)
print(df_escolaridad)
# Calcular la Brecha: (Mujer - Hombre).
# Un valor POSITIVO significa que las mujeres tienen M츼S a침os de escolaridad.
df_brecha_genero <- df_escolaridad %>%
mutate(Brecha_M_H = Mujer - Hombre)
print(df_brecha_genero)
# Convertir Periodo a num칠rico o entero para el eje X
df_brecha_genero$Periodo <- as.integer(df_brecha_genero$Periodo)
ggplot(df_brecha_genero, aes(x = Periodo, y = Brecha_M_H)) +
# L칤nea que muestra la tendencia
geom_line(color = "#9C27B0", linewidth = 1.5) +
# Puntos para cada a침o
geom_point(color = "#4A148C", size = 3) +
# L칤nea horizontal en cero para identificar si la brecha se invirti칩
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
labs(title = "Evoluci칩n de la Brecha de Escolaridad: Mujer vs. Hombre",
subtitle = "Brecha positiva significa mayor escolaridad femenina",
y = "Brecha (A침os de Escolaridad: Mujer - Hombre)",
x = "A침o") +
theme_minimal() +
scale_x_continuous(breaks = unique(df_brecha_genero$Periodo)) # Asegurar que todos los a침os se muestren
#| message: false
# NOTA: Aseg칰rate de que el archivo est칠 en la carpeta de tu proyecto
df_educacion <- read_excel("02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69") %>%
rename(Periodo = 1, Indicadores = 2)
#| message: false
# NOTA: Aseg칰rate de que el archivo est칠 en la carpeta de tu proyecto
df_educacion <- read_excel("02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69") %>%
rename(Periodo = 1, Indicadores = 2)
#| message: false
# NOTA: Aseg칰rate de que el archivo est칠 en la carpeta de tu proyecto
df_educacion <- read_excel("02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69") %>%
rename(Periodo = 1, Indicadores = 2)
#| message: false
# NOTA: Aseg칰rate de que el archivo est칠 en la carpeta de tu proyecto
df_educacion <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69") %>%
rename(Periodo = 1, Indicadores = 2)
# Filtrar solo el indicador de escolaridad para ambos an치lisis
df_escolaridad_base <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad")
# Preparar datos para la comparaci칩n
df_genero <- df_escolaridad_base %>%
select(Periodo, Hombre, Mujer) %>%
mutate(Brecha_M_H = Mujer - Hombre,
Periodo = as.integer(Periodo))
# Formato largo para el gr치fico de l칤neas
df_genero_largo <- df_genero %>%
pivot_longer(cols = c(Hombre, Mujer), names_to = "Sexo", values_to = "Anos")
# Gr치fico 1: Comparativa de l칤neas
ggplot(df_genero_largo, aes(x = Periodo, y = Anos, color = Sexo)) +
geom_line(linewidth = 1.2) +
geom_point(size = 3) +
geom_text(aes(label = round(Anos, 1)), vjust = -1.5, size = 3) +
labs(title = "Escolaridad Promedio por Sexo (2018-2024)",
y = "A침os de Escolaridad", x = "A침o") +
scale_color_manual(values = c("Hombre" = "#3F51B5", "Mujer" = "#E91E63")) +
theme_minimal() +
scale_x_continuous(breaks = unique(df_genero_largo$Periodo))
# Gr치fico 1: Comparativa de l칤neas
ggplot(df_genero_largo, aes(x = Periodo, y = Anos, color = Sexo)) +
geom_line(linewidth = 1.2) +
geom_point(size = 3) +
geom_text(aes(label = round(Anos, 1)), vjust = -1.5, size = 3) +
labs(title = "Escolaridad Promedio por Sexo (2018-2024)",
y = "A침os de Escolaridad", x = "A침o") +
scale_color_manual(values = c("Hombre" = "#3F51B5", "Mujer" = "#E91E63")) +
theme_minimal() +
scale_x_continuous(breaks = unique(df_genero_largo$Periodo))
# Gr치fico 2: Brecha Neta
ggplot(df_genero, aes(x = Periodo, y = Brecha_M_H)) +
geom_line(color = "#9C27B0", linewidth = 1.5) +
geom_point(color = "#4A148C", size = 3) +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
labs(title = "Evoluci칩n de la Brecha (Mujer - Hombre)",
subtitle = "Valores sobre la l칤nea roja indican ventaja femenina",
y = "Diferencia en A침os", x = "A침o") +
theme_minimal() +
scale_x_continuous(breaks = unique(df_genero$Periodo))
#----------------------------------------------------
# 1. Filtrar solo el indicador "A침os promedio de escolaridad"
df_escolaridad <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad") %>%
select(Periodo, Hombre, Mujer)
# 2. Reestructurar el dataframe al formato largo (Tidyr/Pivot_longer)
library(tidyr)
df_sexo_largo <- df_escolaridad %>%
pivot_longer(
cols = c(Hombre, Mujer),
names_to = "Sexo",
values_to = "A침os_Escolaridad"
)
print(df_sexo_largo)
# 3. Convertir Periodo a entero para el eje X
df_sexo_largo$Periodo <- as.integer(df_sexo_largo$Periodo)
head(df_sexo_largo)
#Visualizaci칩n con Gr치fico de L칤neas Separadas
ggplot(df_sexo_largo, aes(x = Periodo, y = A침os_Escolaridad, color = Sexo)) +
# L칤neas que muestran la tendencia para cada Sexo
geom_line(linewidth = 1) +
# Puntos para cada a침o
geom_point(size = 2) +
# Etiquetas de los valores en los puntos (opcional pero muy informativo)
geom_text(aes(label = round(A침os_Escolaridad, 1)), vjust = -1.5, size = 3) +
labs(title = "Evoluci칩n de A침os Promedio de Escolaridad por Sexo",
subtitle = "Periodo 2018-2024",
y = "A침os Promedio de Escolaridad",
x = "A침o") +
# Usar una paleta de colores contrastante
scale_color_manual(values = c("Hombre" = "#3F51B5", "Mujer" = "#E91E63")) +
theme_minimal() +
scale_x_continuous(breaks = unique(df_sexo_largo$Periodo)) # Asegurar que todos los a침os se muestren
#Educacion
educacion1 <- read_excel("C:/Users/Valen/Downloads/02 ENEMDU_Anual_2024_Tabulados_Educaci칩n.xlsx",
sheet = "3. Caracter칤sticas",
range = "A9:N69")
#-----------An치lisis I: Disparidad de Genero en Analfabetismo--------
df_educacion <- educacion1 %>%
rename(
Periodo=1,
Indicadores=2
)
# Filtrar solo "A침os promedio de escolaridad"
df_escolaridad <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad") %>%
select(Periodo, Hombre, Mujer)
print(df_escolaridad)
# Calcular la Brecha: (Mujer - Hombre).
# Un valor POSITIVO significa que las mujeres tienen M츼S a침os de escolaridad.
df_brecha_genero <- df_escolaridad %>%
mutate(Brecha_M_H = Mujer - Hombre)
print(df_brecha_genero)
# Convertir Periodo a num칠rico o entero para el eje X
df_brecha_genero$Periodo <- as.integer(df_brecha_genero$Periodo)
ggplot(df_brecha_genero, aes(x = Periodo, y = Brecha_M_H)) +
# L칤nea que muestra la tendencia
geom_line(color = "#9C27B0", linewidth = 1.5) +
# Puntos para cada a침o
geom_point(color = "#4A148C", size = 3) +
# L칤nea horizontal en cero para identificar si la brecha se invirti칩
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
labs(title = "Evoluci칩n de la Brecha de Escolaridad: Mujer vs. Hombre",
subtitle = "Brecha positiva significa mayor escolaridad femenina",
y = "Brecha (A침os de Escolaridad: Mujer - Hombre)",
x = "A침o") +
theme_minimal() +
scale_x_continuous(breaks = unique(df_brecha_genero$Periodo)) # Asegurar que todos los a침os se muestren
#-----------An치lisis I: Disparidad de Ingresos segun el Analfabetismo--------
df_educacion <- educacion1 %>%
rename(
Periodo=1,
Indicadores=2
)
columnas_quintiles <- c("Quintil 1", "Quintil 2", "Quintil 3", "Quintil 4", "Quintil 5")
# 1. Filtrar solo el indicador "A침os promedio de escolaridad"
df_escolaridad_quintil <- df_educacion %>%
filter(Indicadores == "A침os promedio de escolaridad") %>%
select(Periodo, all_of(columnas_quintiles))
# 2. Reestructurar el dataframe al formato largo (Tidyr/Pivot_longer)
library(tidyr)
df_quintil_largo <- df_escolaridad_quintil %>%
pivot_longer(
cols = all_of(columnas_quintiles),
names_to = "Quintil",
values_to = "A침os_Escolaridad"
)
df_quintil_largo
# 3. Convertir el Periodo a factor para la visualizaci칩n
df_quintil_largo$Periodo <- as.factor(df_quintil_largo$Periodo)
head(df_quintil_largo)
#Visualizaci칩n de L칤neas M칰ltiples (Tendencia por Quintil)
ggplot(df_quintil_largo, aes(x = Periodo, y = A침os_Escolaridad, group = Quintil, color = Quintil)) +
geom_line(linewidth = 1) +
geom_point(size = 3) +
labs(title = "A침os Promedio de Escolaridad por Quintil de Ingreso",
subtitle = "Evoluci칩n de la escolaridad seg칰n el Nivel Socioecon칩mico (2018-2024)",
y = "A침os Promedio de Escolaridad",
x = "A침o") +
theme_minimal() +
scale_color_brewer(palette = "RdYlBu") # Paleta de colores para diferenciar las 5 l칤neas
library(patchwork) # Para combinar gr치ficos si deseas uno al lado del otro
#--------------------Grafico 2 en 1------------
package("patchwork")
#--------------------Grafico 2 en 1------------
install.packages("patchwork")
library(patchwork) # Para combinar gr치ficos si deseas uno al lado del otro
# Gr치fico A: Evoluci칩n Temporal por Sexo
g1 <- ggplot(df_genero_largo, aes(x = Periodo, y = Anos, color = Sexo)) +
geom_line(linewidth = 1.2) +
geom_point(size = 3) +
geom_text(aes(label = round(Anos, 1)), vjust = -1.5, size = 3, show.legend = FALSE) +
labs(title = "Evoluci칩n de A침os de Escolaridad por Sexo",
subtitle = "Las mujeres muestran un crecimiento sostenido",
y = "A침os Promedio", x = "A침o") +
scale_color_manual(values = c("Hombre" = "#3F51B5", "Mujer" = "#E91E63")) +
theme_minimal() +
scale_x_continuous(breaks = unique(df_genero_largo$Periodo))
# Gr치fico B: Evoluci칩n de la Brecha (Mujer - Hombre)
g2 <- ggplot(df_genero, aes(x = Periodo, y = Brecha_M_H)) +
geom_area(fill = "#9C27B0", alpha = 0.2) + # Sombreado para resaltar el 치rea
geom_line(color = "#4A148C", linewidth = 1.2) +
geom_point(color = "#4A148C", size = 3) +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
labs(title = "Brecha de Escolaridad (Diferencia Neta)",
subtitle = "Valores positivos indican que la mujer supera al hombre",
y = "Diferencia (A침os)", x = "A침o") +
theme_minimal() +
scale_x_continuous(breaks = unique(df_genero$Periodo))
# Mostrar los gr치ficos uno debajo del otro
g1
g2
install.packages("tidyverse")
install.packages("tidyverse")
library(readr)
library(tidyverse)
library(readxl)
library(dplyr)
library(survey)
library(ggplot2)
