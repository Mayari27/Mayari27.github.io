list.files(all.files = TRUE, recursive = TRUE)
# Borra archivos HTML sueltos en la ra칤z (NO en docs/)
unlink(c("index.html", "2.html", "about.html"), recursive = TRUE)

# Borra carpetas de archivos temporales
unlink(c("index_files", "2_files", "about_files"), recursive = TRUE)

# Borra docs/ para empezar fresco
unlink("docs", recursive = TRUE)


# Mueve los archivos de configuraci칩n desde "Pagina Perzonalizacion/" a la ra칤z
file.rename("Pagina Perzonalizacion/_quarto.yml", "_quarto.yml")
file.rename("Pagina Perzonalizacion/index.qmd", "index.qmd") 
file.rename("Pagina Perzonalizacion/styles.css", "styles.css")

# Borra la carpeta vac칤a
unlink("Pagina Perzonalizacion", recursive = TRUE)




# Renombra proyectos para evitar espacios
file.rename("_projects/Proyecto 1.qmd", "_projects/proyecto-1.qmd")
file.rename("_projects/Proyecto 2.qmd", "_projects/proyecto-2.qmd")

# Actualiza links en _projects/index.qmd
writeLines('---
title: "Todos los Proyectos"
---

# Mis Proyectos

## 游늵 An치lisis de Datos Sociales

1. [Proyecto 1: An치lisis Exploratorio](proyecto-1.qmd)
2. [Proyecto 2: Visualizaci칩n Avanzada](proyecto-2.qmd)

---

*M치s proyectos en desarrollo...*', "_projects/index.qmd")



# Renderiza el sitio completo
quarto::quarto_render()

# Verifica que se cre칩 docs/
list.files("docs", recursive = TRUE)





system('git add .')

# Commit
system('git commit -m "Reorganizaci칩n completa del sitio web"')

# Push
system("git push origin main")


# Script para arreglar TODO
message("=== LIMPIANDO ===")
unlink(c("index.html", "2.html", "about.html", 
         "index_files", "2_files", "about_files",
         "docs"), recursive = TRUE)

message("=== MOVIENDO ARCHIVOS ===")
if(file.exists("Pagina Perzonalizacion/_quarto.yml")) {
  file.rename("Pagina Perzonalizacion/_quarto.yml", "_quarto.yml")
  file.rename("Pagina Perzonalizacion/index.qmd", "index.qmd")
  file.rename("Pagina Perzonalizacion/styles.css", "styles.css")
  unlink("Pagina Perzonalizacion", recursive = TRUE)
}

message("=== ORGANIZANDO PROYECTOS ===")
if(file.exists("_projects/Proyecto 1.qmd")) {
  file.rename("_projects/Proyecto 1.qmd", "_projects/proyecto-1.qmd")
}
if(file.exists("_projects/Proyecto 2.qmd")) {
  file.rename("_projects/Proyecto 2.qmd", "_projects/proyecto-2.qmd")
}

message("=== RENDERIZANDO ===")
quarto::quarto_render()

message("=== VERIFICANDO ===")
cat("Estructura docs/:\n")
print(list.files("docs", recursive = TRUE))

message("\n=== 춰LISTO! ===")
message("1. Ve a: docs/index.html (localmente)")
message("2. Sube cambios: git add . && git commit -m 'fix' && git push")
message("3. GitHub Pages: https://mayari27.github.io/tu-repo")

source("fix_site.R")
